# Git Study Week 3

## 📌 3강 : CLI

### ✔️ 명령어

- 콘솔창에서 git 명령어 실행 전에 작업 디렉토리인지 확인해야 한다.

| 명령어                         | 설명                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| ------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `git log`                      | 커밋 히스토리 조회<br/> \* HEAD -> master : 로컬 컴퓨터로 커밋<br/> \* origin/master : github 원격 저장소에 올라간 커밋<br/>![example_commit_history](example_commit_history.png)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `git add`                      | working directory에서 변경된 파일들을 staging area에 추가<br/>(다음커밋에 추가할 준비)<br/> \* `git add [파일명]` : 특정 파일만 스테이징<br/> \* `git add .` : 모든 변경사항 스테이징                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| `git checkout`                 | 1. `git checkout [브랜치명]` : 해당 브랜치로 전환<br/> 2. `git checkout [커밋 해시값]` : 해당 커밋으로 HEAD 이동<br/> 3. `git checkout -- [파일명]` : 해당 파일의 변경사항을 모두 버리고 이전 커밋 상태로 변경(띄어쓰기 주의)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| `git reset`                    | 커밋을 되돌리거나 스테이징 영역의 변경사항을 제거<br/> ![comparison_reset_modes](https://s3-ap-northeast-2.amazonaws.com/opentutorials-user-file/module/2676/5131.png)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| `git reset --soft`             | 작업 디렉토리 내 변경사항과 스테이지에 추가된 변경사항은 유지하되, 커밋했다는 사실만 되돌리는 reset (즉, 되돌릴 커밋의 변경사항을 stage영역으로 되돌리기)<br/> \* 지금 작업하는 내용과 섞이지 않는다.<br/> \* 지금 작업 중인 파일과 stage영역에 있는 파일로 구분 가능하다.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `git reset --mixed`            | 작업 디렉토리 내 변경사항은 유지하되, 스테이징 영역과 커밋을 되돌리는 reset<br/> 즉, 마지막으로 커밋한 변경사항을 다시 unstage영역(워킹 디렉토리)으로 되돌리기<br/> \* 파일은 unstracked(`U`) 상태로 되돌아가지만 변경 사항은 유지된다.<br/> \* 아직 완료되지 않은 파일을 커밋할 경우, 복합 리셋을 하면 파일 변경 내용은 그대로 유지된다.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `git reset --hard`             | HEAD,스테이징영역,워킹디렉토리 모두 지정한 커밋으로 되돌리는 reset(모든 변경사항 제거)<br/><details><summary>예제</summary>\* HEAD에서 한 커밋 이전으로 되돌리기 : `git reset --hard HEAD^`<br/> \* HEAD에서 두 커밋 이전으로 되돌리기 : `git reset --hard HEAD^^`</details>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| `git push origin main --force` | 로컬의 변경사항을 원격 저장소에 강제로 반영할 때 사용<br/> \* `git push origin main --force-with-lease` : (강제푸시 안전장치) 원격 저장소에 다른 사람의 변경사항이 푸시되지 않았는지 확인 후, 강제 푸시를 수행<br/><details><summary>예제</summary>Alice와 Bob은 같은 Git 저장소에서 작업하고 있습니다. 둘 다 master 브랜치에서 작업한 후 각각의 변경사항을 커밋했다고 가정해봅시다.<br/><br/>1. Alice가 먼저 원격 저장소에 푸시합니다.<br/>2. Bob은 Alice의 최신 변경사항을 로컬에 가져오지 않고, 자신의 변경사항을 푸시하려고 시도합니다. 일반적인 git push로는 푸시가 거부됩니다.<br/>3. Bob이 git push --force를 사용하면, Alice의 변경사항은 완전히 무시되고 원격 저장소의 master 브랜치는 Bob의 변경사항으로 덮어씌워집니다.<br/>4. 그러나 Bob이 git push --force-with-lease를 사용하면, 원격 저장소에 다른 변경사항 (이 경우 Alice의 커밋)이 있는지 확인 후 푸시가 거부됩니다.</details> |

---

## ✏️추가 스터디

---

## 📖 References

- ['모두를 위 깃&깃허브', 노마드코더](https://nomadcoders.co/git-for-beginners/lobby)
- [GIT4 - Reset & Revert, Opentutorials.org](https://opentutorials.org/module/4032/24533)

```

```
